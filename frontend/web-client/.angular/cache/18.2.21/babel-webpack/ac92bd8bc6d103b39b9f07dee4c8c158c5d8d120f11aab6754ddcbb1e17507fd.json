{"ast":null,"code":"import { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ListingsApiService } from './listings-api.service';\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\nimport { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';\nimport { MatSort, MatSortModule } from '@angular/material/sort';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatIconModule } from '@angular/material/icon';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/table\";\nimport * as i3 from \"@angular/material/paginator\";\nimport * as i4 from \"@angular/material/sort\";\nimport * as i5 from \"@angular/material/progress-bar\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/router\";\nconst _c0 = () => [5, 10, 25, 50];\nconst _c1 = a0 => [\"/listings\", a0, \"edit\"];\nfunction ListingsListComponent_mat_progress_bar_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 3);\n  }\n}\nfunction ListingsListComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"No listings yet.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_th_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 24);\n    i0.ɵɵtext(1, \" Title \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", l_r1.title, \" \");\n  }\n}\nfunction ListingsListComponent_div_5_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 24);\n    i0.ɵɵtext(1, \" Make \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", l_r2.makeName || l_r2.makeId, \" \");\n  }\n}\nfunction ListingsListComponent_div_5_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 24);\n    i0.ɵɵtext(1, \" Model \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", l_r3.modelName || l_r3.modelId, \" \");\n  }\n}\nfunction ListingsListComponent_div_5_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 24);\n    i0.ɵɵtext(1, \" Generation \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", l_r4.generationName || l_r4.generationId, \" \");\n  }\n}\nfunction ListingsListComponent_div_5_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 24);\n    i0.ɵɵtext(1, \" Derivative \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", l_r5.derivativeName || l_r5.derivativeId, \" \");\n  }\n}\nfunction ListingsListComponent_div_5_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 24);\n    i0.ɵɵtext(1, \" Variant \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r6 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", l_r6.variantName || l_r6.variantId, \" \");\n  }\n}\nfunction ListingsListComponent_div_5_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 26);\n    i0.ɵɵtext(1, \" Body \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r7 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", l_r7.bodyTypeName || l_r7.bodyTypeId, \" \");\n  }\n}\nfunction ListingsListComponent_div_5_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 26);\n    i0.ɵɵtext(1, \" Trans \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r8 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", l_r8.transmissionName || l_r8.transmissionId || \"-\", \" \");\n  }\n}\nfunction ListingsListComponent_div_5_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 26);\n    i0.ɵɵtext(1, \" Fuel \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r9 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", l_r9.fuelTypeName || l_r9.fuelTypeId || \"-\", \" \");\n  }\n}\nfunction ListingsListComponent_div_5_th_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 27);\n    i0.ɵɵtext(1, \" Price \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_td_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r10 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, l_r10.price, \"1.0-0\"), \" \");\n  }\n}\nfunction ListingsListComponent_div_5_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 26);\n    i0.ɵɵtext(1, \" Actions \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListingsListComponent_div_5_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 25)(1, \"a\", 29)(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const l_r11 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c1, l_r11.id));\n  }\n}\nfunction ListingsListComponent_div_5_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 30);\n  }\n}\nfunction ListingsListComponent_div_5_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 31);\n  }\n}\nfunction ListingsListComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\", 4);\n    i0.ɵɵelementContainerStart(2, 5);\n    i0.ɵɵtemplate(3, ListingsListComponent_div_5_th_3_Template, 2, 0, \"th\", 6)(4, ListingsListComponent_div_5_td_4_Template, 2, 1, \"td\", 7);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(5, 8);\n    i0.ɵɵtemplate(6, ListingsListComponent_div_5_th_6_Template, 2, 0, \"th\", 6)(7, ListingsListComponent_div_5_td_7_Template, 2, 1, \"td\", 7);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(8, 9);\n    i0.ɵɵtemplate(9, ListingsListComponent_div_5_th_9_Template, 2, 0, \"th\", 6)(10, ListingsListComponent_div_5_td_10_Template, 2, 1, \"td\", 7);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(11, 10);\n    i0.ɵɵtemplate(12, ListingsListComponent_div_5_th_12_Template, 2, 0, \"th\", 6)(13, ListingsListComponent_div_5_td_13_Template, 2, 1, \"td\", 7);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(14, 11);\n    i0.ɵɵtemplate(15, ListingsListComponent_div_5_th_15_Template, 2, 0, \"th\", 6)(16, ListingsListComponent_div_5_td_16_Template, 2, 1, \"td\", 7);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(17, 12);\n    i0.ɵɵtemplate(18, ListingsListComponent_div_5_th_18_Template, 2, 0, \"th\", 6)(19, ListingsListComponent_div_5_td_19_Template, 2, 1, \"td\", 7);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(20, 13);\n    i0.ɵɵtemplate(21, ListingsListComponent_div_5_th_21_Template, 2, 0, \"th\", 14)(22, ListingsListComponent_div_5_td_22_Template, 2, 1, \"td\", 7);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(23, 15);\n    i0.ɵɵtemplate(24, ListingsListComponent_div_5_th_24_Template, 2, 0, \"th\", 14)(25, ListingsListComponent_div_5_td_25_Template, 2, 1, \"td\", 7);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(26, 16);\n    i0.ɵɵtemplate(27, ListingsListComponent_div_5_th_27_Template, 2, 0, \"th\", 14)(28, ListingsListComponent_div_5_td_28_Template, 2, 1, \"td\", 7);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(29, 17);\n    i0.ɵɵtemplate(30, ListingsListComponent_div_5_th_30_Template, 2, 0, \"th\", 18)(31, ListingsListComponent_div_5_td_31_Template, 3, 4, \"td\", 19);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(32, 20);\n    i0.ɵɵtemplate(33, ListingsListComponent_div_5_th_33_Template, 2, 0, \"th\", 14)(34, ListingsListComponent_div_5_td_34_Template, 4, 3, \"td\", 7);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(35, ListingsListComponent_div_5_tr_35_Template, 1, 0, \"tr\", 21)(36, ListingsListComponent_div_5_tr_36_Template, 1, 0, \"tr\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(37, \"mat-paginator\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"dataSource\", ctx_r11.dataSource);\n    i0.ɵɵadvance(34);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r11.displayedColumns);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r11.displayedColumns);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"pageSize\", 10)(\"pageSizeOptions\", i0.ɵɵpureFunction0(5, _c0));\n  }\n}\nexport let ListingsListComponent = /*#__PURE__*/(() => {\n  class ListingsListComponent {\n    api = inject(ListingsApiService);\n    dataSource = new MatTableDataSource([]);\n    displayedColumns = ['title', 'make', 'model', 'generation', 'derivative', 'variant', 'body', 'transmission', 'fuel', 'price', 'actions'];\n    loading = true;\n    paginator;\n    sort;\n    ngOnInit() {\n      this.api.getListings().subscribe({\n        next: x => {\n          this.dataSource.data = x;\n          this.loading = false;\n          this.attachTableFeatures();\n        },\n        error: _ => {\n          this.loading = false;\n        }\n      });\n    }\n    attachTableFeatures() {\n      if (this.paginator) this.dataSource.paginator = this.paginator;\n      if (this.sort) this.dataSource.sort = this.sort;\n    }\n    static ɵfac = function ListingsListComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ListingsListComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ListingsListComponent,\n      selectors: [[\"app-listings-list\"]],\n      viewQuery: function ListingsListComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(MatPaginator, 5);\n          i0.ɵɵviewQuery(MatSort, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        }\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 6,\n      vars: 3,\n      consts: [[2, \"margin-top\", \"24px\"], [\"mode\", \"indeterminate\", 4, \"ngIf\"], [4, \"ngIf\"], [\"mode\", \"indeterminate\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"mat-elevation-z1\", \"mat-mdc-table\", 3, \"dataSource\"], [\"matColumnDef\", \"title\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"make\"], [\"matColumnDef\", \"model\"], [\"matColumnDef\", \"generation\"], [\"matColumnDef\", \"derivative\"], [\"matColumnDef\", \"variant\"], [\"matColumnDef\", \"body\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"transmission\"], [\"matColumnDef\", \"fuel\"], [\"matColumnDef\", \"price\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", \"style\", \"text-align:right\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"style\", \"text-align:right\", 4, \"matCellDef\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [3, \"pageSize\", \"pageSizeOptions\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 2, \"text-align\", \"right\"], [\"mat-cell\", \"\", 2, \"text-align\", \"right\"], [\"mat-icon-button\", \"\", \"title\", \"Edit\", 3, \"routerLink\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n      template: function ListingsListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Saved Listings\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ListingsListComponent_mat_progress_bar_3_Template, 1, 0, \"mat-progress-bar\", 1)(4, ListingsListComponent_div_4_Template, 2, 0, \"div\", 2)(5, ListingsListComponent_div_5_Template, 38, 6, \"div\", 2);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.dataSource.data.length);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.dataSource.data.length);\n        }\n      },\n      dependencies: [CommonModule, i1.NgIf, i1.DecimalPipe, MatTableModule, i2.MatTable, i2.MatHeaderCellDef, i2.MatHeaderRowDef, i2.MatColumnDef, i2.MatCellDef, i2.MatRowDef, i2.MatHeaderCell, i2.MatCell, i2.MatHeaderRow, i2.MatRow, MatPaginatorModule, i3.MatPaginator, MatSortModule, i4.MatSort, i4.MatSortHeader, MatProgressBarModule, i5.MatProgressBar, MatIconModule, i6.MatIcon, RouterModule, i7.RouterLink],\n      encapsulation: 2\n    });\n  }\n  return ListingsListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}