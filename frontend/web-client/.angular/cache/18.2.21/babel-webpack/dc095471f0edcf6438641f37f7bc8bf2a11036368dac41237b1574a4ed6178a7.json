{"ast":null,"code":"import { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ListingsApiService } from '../listings/listings-api.service';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map, switchMap, shareReplay, distinctUntilChanged, debounceTime, catchError, startWith, tap, take } from 'rxjs/operators';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/material/icon\";\nimport * as i4 from \"@angular/material/progress-bar\";\nimport * as i5 from \"@angular/router\";\nconst _c0 = () => [];\nconst _c1 = a0 => [\"/listings\", a0];\nfunction SearchComponent_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r1.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(option_r1.label);\n  }\n}\nfunction SearchComponent_mat_icon_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_more\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_mat_icon_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_less\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"label\", 40)(2, \"input\", 41);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵlistener(\"change\", function SearchComponent_div_37_Template_input_change_2_listener() {\n      const m_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleMake(m_r3.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 42);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 43);\n    i0.ɵɵelement(6, \"path\", 44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(7, \"span\", 45);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementStart(9, \"span\", 18);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    let tmp_2_0;\n    let tmp_4_0;\n    const m_r3 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", (tmp_2_0 = i0.ɵɵpipeBind1(3, 3, ctx_r3.selectedMakeIds$)) == null ? null : tmp_2_0.includes(m_r3.id));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", m_r3.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", (tmp_4_0 = (tmp_4_0 = i0.ɵɵpipeBind1(11, 5, ctx_r3.makeCounts$)) == null ? null : tmp_4_0.get(m_r3.id)) !== null && tmp_4_0 !== undefined ? tmp_4_0 : 0, \")\");\n  }\n}\nfunction SearchComponent_mat_icon_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_more\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_mat_icon_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_less\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"label\", 40)(2, \"input\", 41);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵlistener(\"change\", function SearchComponent_div_56_Template_input_change_2_listener() {\n      const m_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleModel(m_r6.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 42);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 43);\n    i0.ɵɵelement(6, \"path\", 44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(7, \"span\", 45);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementStart(9, \"span\", 18);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    let tmp_2_0;\n    let tmp_4_0;\n    const m_r6 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", (tmp_2_0 = i0.ɵɵpipeBind1(3, 3, ctx_r3.selectedModelIds$)) == null ? null : tmp_2_0.includes(m_r6.id));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", m_r6.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", (tmp_4_0 = (tmp_4_0 = i0.ɵɵpipeBind1(11, 5, ctx_r3.modelCounts$)) == null ? null : tmp_4_0.get(m_r6.id)) !== null && tmp_4_0 !== undefined ? tmp_4_0 : 0, \")\");\n  }\n}\nfunction SearchComponent_mat_icon_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_more\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_mat_icon_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_less\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_mat_icon_85_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_more\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_mat_icon_87_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_less\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_option_96_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const y_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", y_r7);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(y_r7);\n  }\n}\nfunction SearchComponent_option_103_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const y_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", y_r8);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(y_r8);\n  }\n}\nfunction SearchComponent_mat_icon_111_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_more\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_mat_icon_113_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_less\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_mat_icon_134_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_more\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_mat_icon_136_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_less\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_div_141_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"label\", 40)(2, \"input\", 41);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵlistener(\"change\", function SearchComponent_div_141_Template_input_change_2_listener() {\n      const t_r10 = i0.ɵɵrestoreView(_r9).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleTransmission(t_r10.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 42);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 43);\n    i0.ɵɵelement(6, \"path\", 44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(7, \"span\", 45);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementStart(9, \"span\", 18);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    let tmp_2_0;\n    let tmp_4_0;\n    const t_r10 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", (tmp_2_0 = i0.ɵɵpipeBind1(3, 3, ctx_r3.selectedTransmissionIds$)) == null ? null : tmp_2_0.includes(t_r10.id));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", t_r10.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", (tmp_4_0 = (tmp_4_0 = i0.ɵɵpipeBind1(11, 5, ctx_r3.transmissionCounts$)) == null ? null : tmp_4_0.get(t_r10.id)) !== null && tmp_4_0 !== undefined ? tmp_4_0 : 0, \")\");\n  }\n}\nfunction SearchComponent_mat_icon_153_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_more\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_mat_icon_155_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_less\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_div_160_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"label\", 40)(2, \"input\", 41);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵlistener(\"change\", function SearchComponent_div_160_Template_input_change_2_listener() {\n      const b_r12 = i0.ɵɵrestoreView(_r11).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleBodyType(b_r12.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 42);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 43);\n    i0.ɵɵelement(6, \"path\", 44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(7, \"span\", 45);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementStart(9, \"span\", 18);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    let tmp_2_0;\n    let tmp_4_0;\n    const b_r12 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", (tmp_2_0 = i0.ɵɵpipeBind1(3, 3, ctx_r3.selectedBodyTypeIds$)) == null ? null : tmp_2_0.includes(b_r12.id));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", b_r12.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", (tmp_4_0 = (tmp_4_0 = i0.ɵɵpipeBind1(11, 5, ctx_r3.bodyCounts$)) == null ? null : tmp_4_0.get(b_r12.id)) !== null && tmp_4_0 !== undefined ? tmp_4_0 : 0, \")\");\n  }\n}\nfunction SearchComponent_mat_icon_172_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_more\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_mat_icon_174_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"expand_less\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_div_179_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"label\", 40)(2, \"input\", 41);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵlistener(\"change\", function SearchComponent_div_179_Template_input_change_2_listener() {\n      const f_r14 = i0.ɵɵrestoreView(_r13).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleFuelType(f_r14.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 42);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 43);\n    i0.ɵɵelement(6, \"path\", 44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(7, \"span\", 45);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementStart(9, \"span\", 18);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    let tmp_2_0;\n    let tmp_4_0;\n    const f_r14 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", (tmp_2_0 = i0.ɵɵpipeBind1(3, 3, ctx_r3.selectedFuelTypeIds$)) == null ? null : tmp_2_0.includes(f_r14.id));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", f_r14.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", (tmp_4_0 = (tmp_4_0 = i0.ɵɵpipeBind1(11, 5, ctx_r3.fuelCounts$)) == null ? null : tmp_4_0.get(f_r14.id)) !== null && tmp_4_0 !== undefined ? tmp_4_0 : 0, \")\");\n  }\n}\nfunction SearchComponent_div_186_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 64);\n  }\n  if (rf & 2) {\n    const car_r15 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", car_r15.images[0].thumbUrl || car_r15.images[0].url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction SearchComponent_div_186_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"directions_car\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction SearchComponent_div_186_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const eng_r16 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(eng_r16);\n  }\n}\nfunction SearchComponent_div_186_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tn_r17 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(tn_r17);\n  }\n}\nfunction SearchComponent_div_186_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 66);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const f_r18 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(f_r18);\n  }\n}\nfunction SearchComponent_div_186_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 47);\n    i0.ɵɵtemplate(2, SearchComponent_div_186_img_2_Template, 1, 1, \"img\", 48)(3, SearchComponent_div_186_div_3_Template, 3, 0, \"div\", 49);\n    i0.ɵɵelementStart(4, \"div\", 50);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 51)(8, \"div\", 52);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 53);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 54)(13, \"span\", 55);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 55);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, SearchComponent_div_186_span_18_Template, 2, 1, \"span\", 56)(19, SearchComponent_div_186_span_19_Template, 2, 1, \"span\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, SearchComponent_div_186_div_20_Template, 2, 1, \"div\", 57);\n    i0.ɵɵelementStart(21, \"div\", 58)(22, \"div\", 59);\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 60);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 61)(29, \"button\", 62);\n    i0.ɵɵtext(30, \"Reserve\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"a\", 63);\n    i0.ɵɵtext(32, \"View Details\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const car_r15 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(28, _c1, car_r15.id))(\"queryParamsHandling\", \"preserve\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", car_r15.images == null ? null : car_r15.images.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !(car_r15.images == null ? null : car_r15.images.length));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u00A3\", i0.ɵɵpipeBind2(6, 17, car_r15.price, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", car_r15.makeName || car_r15.makeId, \" \", car_r15.modelName || car_r15.modelId, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r15.variantName || car_r15.derivativeName || \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(car_r15.year);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(17, 20, car_r15.mileage), \" miles\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", car_r15.engineSnapshot);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", car_r15.transmissionName);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", car_r15.fuelTypeName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\u00A3\", i0.ɵɵpipeBind2(24, 22, car_r15.price, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\u00A3\", i0.ɵɵpipeBind2(27, 25, ctx_r3.monthly(car_r15.price), \"1.0-0\"), \" / monthly\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(30, _c1, car_r15.id))(\"queryParamsHandling\", \"preserve\");\n  }\n}\nfunction SearchComponent_div_188_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 67)(1, \"div\", 68)(2, \"h3\");\n    i0.ɵɵtext(3, \"No cars found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Try adjusting your filters to see more results.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction SearchComponent_div_191_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 69)(1, \"button\", 70);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵlistener(\"click\", function SearchComponent_div_191_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.prevPage());\n    });\n    i0.ɵɵtext(4, \"Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 71);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 70);\n    i0.ɵɵpipe(10, \"async\");\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵpipe(12, \"async\");\n    i0.ɵɵlistener(\"click\", function SearchComponent_div_191_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.nextPage());\n    });\n    i0.ɵɵtext(13, \"Next\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_3_0;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ((tmp_1_0 = i0.ɵɵpipeBind1(2, 4, ctx_r3.page$)) !== null && tmp_1_0 !== undefined ? tmp_1_0 : 1) === 1 || i0.ɵɵpipeBind1(3, 6, ctx_r3.loading$));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"Page \", i0.ɵɵpipeBind1(7, 8, ctx_r3.page$), \" of \", i0.ɵɵpipeBind1(8, 10, ctx_r3.totalPages$), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", ((tmp_3_0 = i0.ɵɵpipeBind1(10, 12, ctx_r3.page$)) !== null && tmp_3_0 !== undefined ? tmp_3_0 : 1) === ((tmp_3_0 = i0.ɵɵpipeBind1(11, 14, ctx_r3.totalPages$)) !== null && tmp_3_0 !== undefined ? tmp_3_0 : 1) || i0.ɵɵpipeBind1(12, 16, ctx_r3.loading$));\n  }\n}\nfunction SearchComponent_mat_progress_bar_193_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 72);\n  }\n}\nfunction SearchComponent_div_195_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const f_r21 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(f_r21);\n  }\n}\nfunction SearchComponent_div_195_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, SearchComponent_div_195_span_1_Template, 2, 1, \"span\", 74);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementStart(3, \"button\", 75);\n    i0.ɵɵlistener(\"click\", function SearchComponent_div_195_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.clearAll());\n    });\n    i0.ɵɵtext(4, \"Clear all\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r3.activeFilters$));\n  }\n}\nexport let SearchComponent = /*#__PURE__*/(() => {\n  class SearchComponent {\n    api = inject(ListingsApiService);\n    route = inject(ActivatedRoute);\n    router = inject(Router);\n    // Sorting options (used in template)\n    sortOptions = [{\n      label: 'Price: Low to High',\n      value: 'price-asc'\n    }, {\n      label: 'Price: High to Low',\n      value: 'price-desc'\n    }, {\n      label: 'Year: Newest',\n      value: 'year-desc'\n    }, {\n      label: 'Year: Oldest',\n      value: 'year-asc'\n    }];\n    // Filter subjects\n    selectedMakeIds$ = new BehaviorSubject([]);\n    selectedModelIds$ = new BehaviorSubject([]);\n    selectedTransmissionIds$ = new BehaviorSubject([]);\n    selectedBodyTypeIds$ = new BehaviorSubject([]);\n    selectedFuelTypeIds$ = new BehaviorSubject([]);\n    // Range filters\n    priceMin$ = new BehaviorSubject(undefined);\n    priceMax$ = new BehaviorSubject(undefined);\n    yearMin$ = new BehaviorSubject(undefined);\n    yearMax$ = new BehaviorSubject(undefined);\n    mileageMin$ = new BehaviorSubject(undefined);\n    mileageMax$ = new BehaviorSubject(undefined);\n    // Year dropdown options (1980..current)\n    yearStart = 1980;\n    yearEnd = new Date().getFullYear();\n    yearOptionsAsc = Array.from({\n      length: this.yearEnd - this.yearStart + 1\n    }, (_, i) => this.yearStart + i);\n    yearOptionsDesc = [...this.yearOptionsAsc].reverse();\n    // Sorting & pagination subjects\n    sort$ = new BehaviorSubject('price-asc');\n    page$ = new BehaviorSubject(1);\n    pageSize$ = new BehaviorSubject(12);\n    // Loading indicator\n    loading$ = new BehaviorSubject(true);\n    // Reference data\n    allMakes$ = this.api.getMakes().pipe(shareReplay(1));\n    options$ = this.api.getOptions().pipe(shareReplay(1));\n    allTransmissions$ = this.options$.pipe(map(o => o.transmissions));\n    allBodyTypes$ = this.options$.pipe(map(o => o.bodyTypes));\n    allFuelTypes$ = this.options$.pipe(map(o => o.fuelTypes));\n    // Models depend on selected make (unfiltered)\n    allModels$ = this.api.getModels().pipe(shareReplay(1));\n    models$ = combineLatest([this.allModels$, this.selectedMakeIds$]).pipe(map(([all, ids]) => ids.length ? all.filter(m => ids.includes(m.makeId)) : all), shareReplay(1));\n    // Variants filter removed\n    // Query params stream\n    query$ = combineLatest([this.selectedMakeIds$, this.selectedModelIds$, this.selectedTransmissionIds$, this.selectedBodyTypeIds$, this.selectedFuelTypeIds$, this.priceMin$, this.priceMax$, this.yearMin$, this.yearMax$, this.mileageMin$, this.mileageMax$, this.sort$, this.page$, this.pageSize$]).pipe(debounceTime(100), map(([makeIds, modelIds, transmissionIds, bodyTypeIds, fuelTypeIds, priceMin, priceMax, yearMin, yearMax, mileageMin, mileageMax, sort, page, pageSize]) => ({\n      makeIds,\n      modelIds,\n      transmissionIds,\n      bodyTypeIds,\n      fuelTypeIds,\n      priceMin,\n      priceMax,\n      yearMin,\n      yearMax,\n      mileageMin,\n      mileageMax,\n      sort,\n      page,\n      pageSize\n    })), distinctUntilChanged((a, b) => JSON.stringify(a) === JSON.stringify(b)), shareReplay(1));\n    // Results stream\n    results$ = this.query$.pipe(tap(() => this.loading$.next(true)), switchMap(({\n      makeIds,\n      modelIds,\n      transmissionIds,\n      bodyTypeIds,\n      fuelTypeIds,\n      sort,\n      page,\n      pageSize\n    }) => {\n      const [sortBy, sortDirection] = this.mapSort(sort);\n      const params = {\n        makeIds,\n        modelIds,\n        transmissionIds,\n        bodyTypeIds,\n        fuelTypeIds,\n        page,\n        pageSize,\n        sortBy,\n        sortDirection\n      };\n      return this.api.searchListings(params).pipe(catchError(() => this.api.getListings({}).pipe(map(xs => ({\n        data: xs,\n        totalCount: xs.length,\n        totalPages: Math.max(1, Math.ceil(xs.length / pageSize)),\n        currentPage: page,\n        pageSize\n      })))));\n    }), tap(() => this.loading$.next(false)), shareReplay(1));\n    // Derived UI streams\n    listings$ = this.results$.pipe(map(r => r.data));\n    totalCount$ = this.results$.pipe(map(r => r.totalCount));\n    totalPages$ = this.results$.pipe(map(r => r.totalPages));\n    // Facet counts: for each facet, compute counts based on listings matching other filters\n    facetCounts$ = combineLatest([this.selectedMakeIds$, this.selectedModelIds$, this.selectedTransmissionIds$, this.selectedBodyTypeIds$, this.selectedFuelTypeIds$, this.priceMin$, this.priceMax$, this.yearMin$, this.yearMax$, this.mileageMin$, this.mileageMax$]).pipe(debounceTime(100), map(([makeIds, modelIds, transmissionIds, bodyTypeIds, fuelTypeIds, priceMin, priceMax, yearMin, yearMax, mileageMin, mileageMax]) => ({\n      makeIds,\n      modelIds,\n      transmissionIds,\n      bodyTypeIds,\n      fuelTypeIds,\n      priceMin,\n      priceMax,\n      yearMin,\n      yearMax,\n      mileageMin,\n      mileageMax\n    })), distinctUntilChanged((a, b) => JSON.stringify(a) === JSON.stringify(b)), switchMap(params => this.api.getFacetCounts(params)), map(dto => ({\n      makes: new Map(Object.entries(dto.makes).map(([k, v]) => [Number(k), v])),\n      models: new Map(Object.entries(dto.models).map(([k, v]) => [Number(k), v])),\n      transmissions: new Map(Object.entries(dto.transmissions).map(([k, v]) => [Number(k), v])),\n      bodies: new Map(Object.entries(dto.bodies).map(([k, v]) => [Number(k), v])),\n      fuels: new Map(Object.entries(dto.fuels).map(([k, v]) => [Number(k), v]))\n    })), shareReplay(1));\n    // Filtered facet option streams (only show options with count > 0)\n    makes$ = combineLatest([this.allMakes$, this.facetCounts$]).pipe(map(([makes, counts]) => makes.filter(m => (counts.makes.get(m.id) ?? 0) > 0)), shareReplay(1));\n    transmissions$ = combineLatest([this.allTransmissions$, this.facetCounts$]).pipe(map(([opts, counts]) => opts.filter(t => (counts.transmissions.get(t.id) ?? 0) > 0)), shareReplay(1));\n    bodyTypes$ = combineLatest([this.allBodyTypes$, this.facetCounts$]).pipe(map(([opts, counts]) => opts.filter(b => (counts.bodies.get(b.id) ?? 0) > 0)), shareReplay(1));\n    fuelTypes$ = combineLatest([this.allFuelTypes$, this.facetCounts$]).pipe(map(([opts, counts]) => opts.filter(f => (counts.fuels.get(f.id) ?? 0) > 0)), shareReplay(1));\n    // Models already depend on selected make; apply counts filter too\n    filteredModels$ = combineLatest([this.models$, this.facetCounts$]).pipe(map(([models, counts]) => models.filter(m => (counts.models.get(m.id) ?? 0) > 0)), shareReplay(1));\n    // Facet collapse preferences and open states (open when any selection is active)\n    // Keep Make facet open on initial load\n    makePref$ = new BehaviorSubject(true);\n    modelPref$ = new BehaviorSubject(false);\n    transPref$ = new BehaviorSubject(false);\n    bodyPref$ = new BehaviorSubject(false);\n    fuelPref$ = new BehaviorSubject(false);\n    makeOpen$ = combineLatest([this.selectedMakeIds$, this.makePref$]).pipe(map(([ids, pref]) => ids.length > 0 ? true : pref), shareReplay(1));\n    modelOpen$ = combineLatest([this.selectedModelIds$, this.modelPref$]).pipe(map(([ids, pref]) => ids.length > 0 ? true : pref), shareReplay(1));\n    transOpen$ = combineLatest([this.selectedTransmissionIds$, this.transPref$]).pipe(map(([ids, pref]) => ids.length > 0 ? true : pref), shareReplay(1));\n    bodyOpen$ = combineLatest([this.selectedBodyTypeIds$, this.bodyPref$]).pipe(map(([ids, pref]) => ids.length > 0 ? true : pref), shareReplay(1));\n    fuelOpen$ = combineLatest([this.selectedFuelTypeIds$, this.fuelPref$]).pipe(map(([ids, pref]) => ids.length > 0 ? true : pref), shareReplay(1));\n    toggleMakeFacet() {\n      this.makePref$.next(!this.makePref$.value);\n    }\n    toggleModelFacet() {\n      this.modelPref$.next(!this.modelPref$.value);\n    }\n    toggleTransmissionFacet() {\n      this.transPref$.next(!this.transPref$.value);\n    }\n    toggleBodyFacet() {\n      this.bodyPref$.next(!this.bodyPref$.value);\n    }\n    toggleFuelFacet() {\n      this.fuelPref$.next(!this.fuelPref$.value);\n    }\n    // Range facet collapse preferences and open states\n    pricePref$ = new BehaviorSubject(false);\n    yearPref$ = new BehaviorSubject(false);\n    mileagePref$ = new BehaviorSubject(false);\n    priceOpen$ = combineLatest([this.priceMin$, this.priceMax$, this.pricePref$]).pipe(map(([min, max, pref]) => min != null || max != null ? true : pref), shareReplay(1));\n    yearOpen$ = combineLatest([this.yearMin$, this.yearMax$, this.yearPref$]).pipe(map(([min, max, pref]) => min != null || max != null ? true : pref), shareReplay(1));\n    mileageOpen$ = combineLatest([this.mileageMin$, this.mileageMax$, this.mileagePref$]).pipe(map(([min, max, pref]) => min != null || max != null ? true : pref), shareReplay(1));\n    togglePriceFacet() {\n      this.pricePref$.next(!this.pricePref$.value);\n    }\n    toggleYearFacet() {\n      this.yearPref$.next(!this.yearPref$.value);\n    }\n    toggleMileageFacet() {\n      this.mileagePref$.next(!this.mileagePref$.value);\n    }\n    // Facet count maps for template usage\n    makeCounts$ = this.facetCounts$.pipe(map(x => x.makes));\n    modelCounts$ = this.facetCounts$.pipe(map(x => x.models));\n    transmissionCounts$ = this.facetCounts$.pipe(map(x => x.transmissions));\n    bodyCounts$ = this.facetCounts$.pipe(map(x => x.bodies));\n    fuelCounts$ = this.facetCounts$.pipe(map(x => x.fuels));\n    // Active filter labels (for chips)\n    activeFilters$ = combineLatest([this.selectedMakeIds$, this.makes$.pipe(startWith([])), this.selectedModelIds$, this.filteredModels$.pipe(startWith([])), this.selectedTransmissionIds$, this.transmissions$.pipe(startWith([])), this.selectedBodyTypeIds$, this.bodyTypes$.pipe(startWith([])), this.selectedFuelTypeIds$, this.fuelTypes$.pipe(startWith([]))]).pipe(map(([mkIds, makes, mdIds, models, trIds, transmissions, btIds, bodies, fuIds, fuels]) => {\n      const namesFor = (ids, list) => ids.map(id => list.find(x => x.id === id)?.name).filter(Boolean);\n      const labels = [...namesFor(mkIds, makes), ...namesFor(mdIds, models), ...namesFor(trIds, transmissions), ...namesFor(btIds, bodies), ...namesFor(fuIds, fuels)];\n      return labels;\n    }), shareReplay(1));\n    // Count of active filters for quick display (include ranges)\n    activeFilterCount$ = combineLatest([this.activeFilters$, this.priceMin$, this.priceMax$, this.yearMin$, this.yearMax$, this.mileageMin$, this.mileageMax$]).pipe(map(([labels, pmin, pmax, ymin, ymax, mmin, mmax]) => {\n      let extra = 0;\n      if (pmin != null || pmax != null) extra++;\n      if (ymin != null || ymax != null) extra++;\n      if (mmin != null || mmax != null) extra++;\n      return labels.length + extra;\n    }));\n    constructor() {\n      // Seed from URL using names (comma-separated)\n      combineLatest([this.route.queryParamMap, this.allMakes$.pipe(startWith([])), this.allModels$.pipe(startWith([])), this.transmissions$.pipe(startWith([])), this.bodyTypes$.pipe(startWith([])), this.fuelTypes$.pipe(startWith([]))]).subscribe(([q, makes, models, transmissions, bodies, fuels]) => {\n        const namesToIds = (param, list) => {\n          if (!param) return [];\n          const wanted = param.split(',').map(s => s.trim().toLowerCase()).filter(Boolean);\n          return list.filter(x => wanted.includes((x.name ?? '').toLowerCase())).map(x => x.id);\n        };\n        this.selectedMakeIds$.next(namesToIds(q.get('make'), makes));\n        this.selectedModelIds$.next(namesToIds(q.get('model'), models));\n        this.selectedTransmissionIds$.next(namesToIds(q.get('trans'), transmissions));\n        this.selectedBodyTypeIds$.next(namesToIds(q.get('body'), bodies));\n        this.selectedFuelTypeIds$.next(namesToIds(q.get('fuel'), fuels));\n        const s = q.get('sort');\n        if (s) this.sort$.next(s);\n        const p = q.get('page');\n        this.page$.next(p ? Number(p) : 1);\n      });\n      // Persist to URL on changes\n      combineLatest([this.selectedMakeIds$, this.allMakes$.pipe(startWith([])), this.selectedModelIds$, this.allModels$.pipe(startWith([])), this.selectedTransmissionIds$, this.transmissions$.pipe(startWith([])), this.selectedBodyTypeIds$, this.bodyTypes$.pipe(startWith([])), this.selectedFuelTypeIds$, this.fuelTypes$.pipe(startWith([])), this.sort$, this.page$]).pipe(debounceTime(50)).subscribe(([mkIds, makes, mdIds, models, trIds, transmissions, btIds, bodies, fuIds, fuels, sort, page]) => {\n        const namesFor = (ids, list) => ids.map(id => list.find(x => x.id === id)?.name).filter(Boolean);\n        const qp = {\n          make: namesFor(mkIds, makes).join(',') || undefined,\n          model: namesFor(mdIds, models).join(',') || undefined,\n          trans: namesFor(trIds, transmissions).join(',') || undefined,\n          body: namesFor(btIds, bodies).join(',') || undefined,\n          fuel: namesFor(fuIds, fuels).join(',') || undefined,\n          sort,\n          page\n        };\n        this.router.navigate([], {\n          queryParams: qp,\n          queryParamsHandling: 'merge'\n        });\n      });\n      // Reset to first page when filters or sort change\n      combineLatest([this.selectedMakeIds$, this.selectedModelIds$, this.selectedTransmissionIds$, this.selectedBodyTypeIds$, this.selectedFuelTypeIds$, this.sort$]).pipe(debounceTime(50)).subscribe(() => this.page$.next(1));\n      // Reset dependent selections to avoid stale combos\n      this.selectedMakeIds$.pipe(distinctUntilChanged()).subscribe(() => {\n        this.selectedModelIds$.next([]);\n      });\n      // Variant dependency removed\n    }\n    mapSort(v) {\n      switch (v) {\n        case 'price-asc':\n          return ['price', 'asc'];\n        case 'price-desc':\n          return ['price', 'desc'];\n        case 'year-asc':\n          return ['year', 'asc'];\n        case 'year-desc':\n          return ['year', 'desc'];\n        default:\n          return ['price', 'asc'];\n      }\n    }\n    prevPage() {\n      combineLatest([this.page$, this.totalPages$]).pipe(take(1)).subscribe(([p]) => {\n        if (p > 1) this.page$.next(p - 1);\n      });\n    }\n    nextPage() {\n      combineLatest([this.page$, this.totalPages$]).pipe(take(1)).subscribe(([p, t]) => {\n        if (p < t) this.page$.next(p + 1);\n      });\n    }\n    // Toggle helpers for multiselect checkboxes\n    toggle(ids$, id) {\n      const curr = ids$.value;\n      ids$.next(curr.includes(id) ? curr.filter(x => x !== id) : [...curr, id]);\n    }\n    clear(ids$) {\n      ids$.next([]);\n    }\n    clearAll() {\n      this.selectedMakeIds$.next([]);\n      this.selectedModelIds$.next([]);\n      this.selectedTransmissionIds$.next([]);\n      this.selectedBodyTypeIds$.next([]);\n      this.selectedFuelTypeIds$.next([]);\n      this.priceMin$.next(undefined);\n      this.priceMax$.next(undefined);\n      this.yearMin$.next(undefined);\n      this.yearMax$.next(undefined);\n      this.mileageMin$.next(undefined);\n      this.mileageMax$.next(undefined);\n    }\n    toggleMake(id) {\n      this.toggle(this.selectedMakeIds$, id);\n    }\n    toggleModel(id) {\n      this.toggle(this.selectedModelIds$, id);\n    }\n    toggleTransmission(id) {\n      this.toggle(this.selectedTransmissionIds$, id);\n    }\n    toggleBodyType(id) {\n      this.toggle(this.selectedBodyTypeIds$, id);\n    }\n    toggleFuelType(id) {\n      this.toggle(this.selectedFuelTypeIds$, id);\n    }\n    // Simple illustrative monthly price (placeholder UI affordance)\n    monthly(price) {\n      return Math.round((price || 0) / 60);\n    }\n    // Year range validation: ensure From <= To by adjusting the opposite side\n    onYearMinChange(v) {\n      const val = v === '' ? undefined : Number(v);\n      const currentMax = this.yearMax$.value;\n      this.yearMin$.next(val);\n      if (val != null && currentMax != null && val > currentMax) {\n        this.yearMax$.next(val);\n      }\n    }\n    onYearMaxChange(v) {\n      const val = v === '' ? undefined : Number(v);\n      const currentMin = this.yearMin$.value;\n      this.yearMax$.next(val);\n      if (val != null && currentMin != null && val < currentMin) {\n        this.yearMin$.next(val);\n      }\n    }\n    static ɵfac = function SearchComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || SearchComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SearchComponent,\n      selectors: [[\"app-search\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 197,\n      vars: 187,\n      consts: [[1, \"find-car-container\"], [1, \"topbar\"], [1, \"sort-wrap\"], [\"for\", \"sort-select\", 1, \"sort-label\"], [\"id\", \"sort-select\", 1, \"sort-select\", 3, \"ngModelChange\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"main-content\"], [1, \"filter-sidebar\"], [1, \"filter-header\"], [1, \"filter-title\"], [\"width\", \"20\", \"height\", \"20\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", 1, \"filter-icon\"], [\"d\", \"M22 3H2L10 12.46V19L14 21V12.46L22 3Z\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\"], [\"href\", \"#\", 1, \"clear-all\", 3, \"click\"], [1, \"filter-content\"], [1, \"filter-section\"], [\"role\", \"button\", 1, \"section-header\", 3, \"click\"], [1, \"section-title-container\"], [1, \"section-title\"], [1, \"count\"], [1, \"chevron\"], [4, \"ngIf\"], [1, \"section-content\"], [1, \"options-container\"], [\"class\", \"filter-option\", 4, \"ngFor\", \"ngForOf\"], [1, \"range-row\"], [\"type\", \"number\", \"placeholder\", \"Min\", 1, \"range-input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"range-sep\"], [\"type\", \"number\", \"placeholder\", \"Max\", 1, \"range-input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"range-select\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [1, \"car-results\"], [1, \"results-header\"], [1, \"car-grid\"], [\"class\", \"car-card\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"no-results\", 4, \"ngIf\"], [\"class\", \"pagination\", 4, \"ngIf\"], [\"mode\", \"indeterminate\", 4, \"ngIf\"], [\"class\", \"active-filters\", 4, \"ngIf\"], [3, \"value\"], [1, \"filter-option\"], [1, \"option-label\"], [\"type\", \"checkbox\", 1, \"filter-checkbox\", 3, \"change\", \"checked\"], [1, \"custom-checkbox\"], [\"width\", \"12\", \"height\", \"12\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", 1, \"check-icon\"], [\"d\", \"M20 6L9 17L4 12\", \"stroke\", \"currentColor\", \"stroke-width\", \"3\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\"], [1, \"option-text\"], [1, \"car-card\"], [\"title\", \"View details\", 1, \"card-media\", 3, \"routerLink\", \"queryParamsHandling\"], [\"alt\", \"car image\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"media-placeholder\", 4, \"ngIf\"], [1, \"price-tag\"], [1, \"card-body\"], [1, \"title\"], [1, \"subtitle\"], [1, \"chips\"], [1, \"chip\"], [\"class\", \"chip\", 4, \"ngIf\"], [\"class\", \"fuel-pill\", 4, \"ngIf\"], [1, \"price-row\"], [1, \"price\"], [1, \"monthly\"], [1, \"actions\"], [\"disabled\", \"\", 1, \"btn\", \"btn-secondary\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\", \"queryParamsHandling\"], [\"alt\", \"car image\", 3, \"src\"], [1, \"media-placeholder\"], [1, \"fuel-pill\"], [1, \"no-results\"], [1, \"no-results-content\"], [1, \"pagination\"], [1, \"page-btn\", 3, \"click\", \"disabled\"], [1, \"page-info\"], [\"mode\", \"indeterminate\"], [1, \"active-filters\"], [\"class\", \"chip\", 4, \"ngFor\", \"ngForOf\"], [1, \"clear-filters\", 3, \"click\"]],\n      template: function SearchComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"label\", 3);\n          i0.ɵɵtext(4, \"Sort\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"select\", 4);\n          i0.ɵɵpipe(6, \"async\");\n          i0.ɵɵlistener(\"ngModelChange\", function SearchComponent_Template_select_ngModelChange_5_listener($event) {\n            return ctx.sort$.next($event);\n          });\n          i0.ɵɵtemplate(7, SearchComponent_option_7_Template, 2, 2, \"option\", 5);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(8, \"div\", 6)(9, \"aside\", 7)(10, \"div\", 7)(11, \"div\", 8)(12, \"h3\", 9);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(13, \"svg\", 10);\n          i0.ɵɵelement(14, \"path\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(15, \" Filters \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(16, \"a\", 12);\n          i0.ɵɵlistener(\"click\", function SearchComponent_Template_a_click_16_listener($event) {\n            $event.preventDefault();\n            return ctx.clearAll();\n          });\n          i0.ɵɵtext(17);\n          i0.ɵɵpipe(18, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"div\", 13)(20, \"div\", 14)(21, \"div\", 15);\n          i0.ɵɵpipe(22, \"async\");\n          i0.ɵɵlistener(\"click\", function SearchComponent_Template_div_click_21_listener() {\n            return ctx.toggleMakeFacet();\n          });\n          i0.ɵɵelementStart(23, \"div\", 16)(24, \"h4\", 17);\n          i0.ɵɵtext(25, \"Make \");\n          i0.ɵɵelementStart(26, \"span\", 18);\n          i0.ɵɵtext(27);\n          i0.ɵɵpipe(28, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(29, \"span\", 19);\n          i0.ɵɵtemplate(30, SearchComponent_mat_icon_30_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(31, \"async\");\n          i0.ɵɵtemplate(32, SearchComponent_mat_icon_32_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(33, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(34, \"div\", 21);\n          i0.ɵɵpipe(35, \"async\");\n          i0.ɵɵelementStart(36, \"div\", 22);\n          i0.ɵɵtemplate(37, SearchComponent_div_37_Template, 12, 7, \"div\", 23);\n          i0.ɵɵpipe(38, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(39, \"div\", 14)(40, \"div\", 15);\n          i0.ɵɵpipe(41, \"async\");\n          i0.ɵɵlistener(\"click\", function SearchComponent_Template_div_click_40_listener() {\n            return ctx.toggleModelFacet();\n          });\n          i0.ɵɵelementStart(42, \"div\", 16)(43, \"h4\", 17);\n          i0.ɵɵtext(44, \"Model \");\n          i0.ɵɵelementStart(45, \"span\", 18);\n          i0.ɵɵtext(46);\n          i0.ɵɵpipe(47, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(48, \"span\", 19);\n          i0.ɵɵtemplate(49, SearchComponent_mat_icon_49_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(50, \"async\");\n          i0.ɵɵtemplate(51, SearchComponent_mat_icon_51_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(52, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(53, \"div\", 21);\n          i0.ɵɵpipe(54, \"async\");\n          i0.ɵɵelementStart(55, \"div\", 22);\n          i0.ɵɵtemplate(56, SearchComponent_div_56_Template, 12, 7, \"div\", 23);\n          i0.ɵɵpipe(57, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(58, \"div\", 14)(59, \"div\", 15);\n          i0.ɵɵpipe(60, \"async\");\n          i0.ɵɵlistener(\"click\", function SearchComponent_Template_div_click_59_listener() {\n            return ctx.togglePriceFacet();\n          });\n          i0.ɵɵelementStart(61, \"div\", 16)(62, \"h4\", 17);\n          i0.ɵɵtext(63, \"Price\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(64, \"span\", 19);\n          i0.ɵɵtemplate(65, SearchComponent_mat_icon_65_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(66, \"async\");\n          i0.ɵɵtemplate(67, SearchComponent_mat_icon_67_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(68, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(69, \"div\", 21);\n          i0.ɵɵpipe(70, \"async\");\n          i0.ɵɵelementStart(71, \"div\", 24)(72, \"input\", 25);\n          i0.ɵɵpipe(73, \"async\");\n          i0.ɵɵlistener(\"ngModelChange\", function SearchComponent_Template_input_ngModelChange_72_listener($event) {\n            return ctx.priceMin$.next($event === \"\" ? undefined : +$event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(74, \"span\", 26);\n          i0.ɵɵtext(75, \"\\u2013\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(76, \"input\", 27);\n          i0.ɵɵpipe(77, \"async\");\n          i0.ɵɵlistener(\"ngModelChange\", function SearchComponent_Template_input_ngModelChange_76_listener($event) {\n            return ctx.priceMax$.next($event === \"\" ? undefined : +$event);\n          });\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(78, \"div\", 14)(79, \"div\", 15);\n          i0.ɵɵpipe(80, \"async\");\n          i0.ɵɵlistener(\"click\", function SearchComponent_Template_div_click_79_listener() {\n            return ctx.toggleYearFacet();\n          });\n          i0.ɵɵelementStart(81, \"div\", 16)(82, \"h4\", 17);\n          i0.ɵɵtext(83, \"Year\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(84, \"span\", 19);\n          i0.ɵɵtemplate(85, SearchComponent_mat_icon_85_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(86, \"async\");\n          i0.ɵɵtemplate(87, SearchComponent_mat_icon_87_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(88, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(89, \"div\", 21);\n          i0.ɵɵpipe(90, \"async\");\n          i0.ɵɵelementStart(91, \"div\", 24)(92, \"select\", 28);\n          i0.ɵɵpipe(93, \"async\");\n          i0.ɵɵlistener(\"ngModelChange\", function SearchComponent_Template_select_ngModelChange_92_listener($event) {\n            return ctx.yearMin$.next($event === \"\" ? undefined : +$event);\n          });\n          i0.ɵɵelementStart(94, \"option\", 29);\n          i0.ɵɵtext(95, \"Any\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(96, SearchComponent_option_96_Template, 2, 2, \"option\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(97, \"span\", 26);\n          i0.ɵɵtext(98, \"\\u2013\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(99, \"select\", 28);\n          i0.ɵɵpipe(100, \"async\");\n          i0.ɵɵlistener(\"ngModelChange\", function SearchComponent_Template_select_ngModelChange_99_listener($event) {\n            return ctx.yearMax$.next($event === \"\" ? undefined : +$event);\n          });\n          i0.ɵɵelementStart(101, \"option\", 29);\n          i0.ɵɵtext(102, \"Any\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(103, SearchComponent_option_103_Template, 2, 2, \"option\", 5);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(104, \"div\", 14)(105, \"div\", 15);\n          i0.ɵɵpipe(106, \"async\");\n          i0.ɵɵlistener(\"click\", function SearchComponent_Template_div_click_105_listener() {\n            return ctx.toggleMileageFacet();\n          });\n          i0.ɵɵelementStart(107, \"div\", 16)(108, \"h4\", 17);\n          i0.ɵɵtext(109, \"Mileage\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(110, \"span\", 19);\n          i0.ɵɵtemplate(111, SearchComponent_mat_icon_111_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(112, \"async\");\n          i0.ɵɵtemplate(113, SearchComponent_mat_icon_113_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(114, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(115, \"div\", 21);\n          i0.ɵɵpipe(116, \"async\");\n          i0.ɵɵelementStart(117, \"div\", 24)(118, \"input\", 25);\n          i0.ɵɵpipe(119, \"async\");\n          i0.ɵɵlistener(\"ngModelChange\", function SearchComponent_Template_input_ngModelChange_118_listener($event) {\n            return ctx.mileageMin$.next($event === \"\" ? undefined : +$event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(120, \"span\", 26);\n          i0.ɵɵtext(121, \"\\u2013\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(122, \"input\", 27);\n          i0.ɵɵpipe(123, \"async\");\n          i0.ɵɵlistener(\"ngModelChange\", function SearchComponent_Template_input_ngModelChange_122_listener($event) {\n            return ctx.mileageMax$.next($event === \"\" ? undefined : +$event);\n          });\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(124, \"div\", 14)(125, \"div\", 15);\n          i0.ɵɵpipe(126, \"async\");\n          i0.ɵɵlistener(\"click\", function SearchComponent_Template_div_click_125_listener() {\n            return ctx.toggleTransmissionFacet();\n          });\n          i0.ɵɵelementStart(127, \"div\", 16)(128, \"h4\", 17);\n          i0.ɵɵtext(129, \"Gearbox \");\n          i0.ɵɵelementStart(130, \"span\", 18);\n          i0.ɵɵtext(131);\n          i0.ɵɵpipe(132, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(133, \"span\", 19);\n          i0.ɵɵtemplate(134, SearchComponent_mat_icon_134_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(135, \"async\");\n          i0.ɵɵtemplate(136, SearchComponent_mat_icon_136_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(137, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(138, \"div\", 21);\n          i0.ɵɵpipe(139, \"async\");\n          i0.ɵɵelementStart(140, \"div\", 22);\n          i0.ɵɵtemplate(141, SearchComponent_div_141_Template, 12, 7, \"div\", 23);\n          i0.ɵɵpipe(142, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(143, \"div\", 14)(144, \"div\", 15);\n          i0.ɵɵpipe(145, \"async\");\n          i0.ɵɵlistener(\"click\", function SearchComponent_Template_div_click_144_listener() {\n            return ctx.toggleBodyFacet();\n          });\n          i0.ɵɵelementStart(146, \"div\", 16)(147, \"h4\", 17);\n          i0.ɵɵtext(148, \"Body type \");\n          i0.ɵɵelementStart(149, \"span\", 18);\n          i0.ɵɵtext(150);\n          i0.ɵɵpipe(151, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(152, \"span\", 19);\n          i0.ɵɵtemplate(153, SearchComponent_mat_icon_153_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(154, \"async\");\n          i0.ɵɵtemplate(155, SearchComponent_mat_icon_155_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(156, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(157, \"div\", 21);\n          i0.ɵɵpipe(158, \"async\");\n          i0.ɵɵelementStart(159, \"div\", 22);\n          i0.ɵɵtemplate(160, SearchComponent_div_160_Template, 12, 7, \"div\", 23);\n          i0.ɵɵpipe(161, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(162, \"div\", 14)(163, \"div\", 15);\n          i0.ɵɵpipe(164, \"async\");\n          i0.ɵɵlistener(\"click\", function SearchComponent_Template_div_click_163_listener() {\n            return ctx.toggleFuelFacet();\n          });\n          i0.ɵɵelementStart(165, \"div\", 16)(166, \"h4\", 17);\n          i0.ɵɵtext(167, \"Fuel type \");\n          i0.ɵɵelementStart(168, \"span\", 18);\n          i0.ɵɵtext(169);\n          i0.ɵɵpipe(170, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(171, \"span\", 19);\n          i0.ɵɵtemplate(172, SearchComponent_mat_icon_172_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(173, \"async\");\n          i0.ɵɵtemplate(174, SearchComponent_mat_icon_174_Template, 2, 0, \"mat-icon\", 20);\n          i0.ɵɵpipe(175, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(176, \"div\", 21);\n          i0.ɵɵpipe(177, \"async\");\n          i0.ɵɵelementStart(178, \"div\", 22);\n          i0.ɵɵtemplate(179, SearchComponent_div_179_Template, 12, 7, \"div\", 23);\n          i0.ɵɵpipe(180, \"async\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(181, \"main\", 30)(182, \"div\", 31);\n          i0.ɵɵtext(183);\n          i0.ɵɵpipe(184, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(185, \"div\", 32);\n          i0.ɵɵtemplate(186, SearchComponent_div_186_Template, 33, 32, \"div\", 33);\n          i0.ɵɵpipe(187, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(188, SearchComponent_div_188_Template, 6, 0, \"div\", 34);\n          i0.ɵɵpipe(189, \"async\");\n          i0.ɵɵpipe(190, \"async\");\n          i0.ɵɵtemplate(191, SearchComponent_div_191_Template, 14, 18, \"div\", 35);\n          i0.ɵɵpipe(192, \"async\");\n          i0.ɵɵtemplate(193, SearchComponent_mat_progress_bar_193_Template, 1, 0, \"mat-progress-bar\", 36);\n          i0.ɵɵpipe(194, \"async\");\n          i0.ɵɵtemplate(195, SearchComponent_div_195_Template, 5, 3, \"div\", 37);\n          i0.ɵɵpipe(196, \"async\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          let tmp_2_0;\n          let tmp_4_0;\n          let tmp_8_0;\n          let tmp_10_0;\n          let tmp_14_0;\n          let tmp_36_0;\n          let tmp_40_0;\n          let tmp_42_0;\n          let tmp_46_0;\n          let tmp_48_0;\n          let tmp_52_0;\n          let tmp_53_0;\n          let tmp_54_0;\n          let tmp_55_0;\n          let tmp_56_0;\n          let tmp_58_0;\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind1(6, 67, ctx.sort$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.sortOptions);\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate1(\"Clear all (\", (tmp_2_0 = i0.ɵɵpipeBind1(18, 69, ctx.activeFilterCount$)) !== null && tmp_2_0 !== undefined ? tmp_2_0 : 0, \")\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵattribute(\"aria-expanded\", i0.ɵɵpipeBind1(22, 71, ctx.makeOpen$) ? \"true\" : \"false\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"(\", (tmp_4_0 = (tmp_4_0 = i0.ɵɵpipeBind1(28, 73, ctx.makes$)) == null ? null : tmp_4_0.length) !== null && tmp_4_0 !== undefined ? tmp_4_0 : 0, \")\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(31, 75, ctx.makeOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(33, 77, ctx.makeOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"expanded\", i0.ɵɵpipeBind1(35, 79, ctx.makeOpen$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", (tmp_8_0 = i0.ɵɵpipeBind1(38, 81, ctx.makes$)) !== null && tmp_8_0 !== undefined ? tmp_8_0 : i0.ɵɵpureFunction0(181, _c0));\n          i0.ɵɵadvance(3);\n          i0.ɵɵattribute(\"aria-expanded\", i0.ɵɵpipeBind1(41, 83, ctx.modelOpen$) ? \"true\" : \"false\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"(\", (tmp_10_0 = (tmp_10_0 = i0.ɵɵpipeBind1(47, 85, ctx.filteredModels$)) == null ? null : tmp_10_0.length) !== null && tmp_10_0 !== undefined ? tmp_10_0 : 0, \")\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(50, 87, ctx.modelOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(52, 89, ctx.modelOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"expanded\", i0.ɵɵpipeBind1(54, 91, ctx.modelOpen$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", (tmp_14_0 = i0.ɵɵpipeBind1(57, 93, ctx.filteredModels$)) !== null && tmp_14_0 !== undefined ? tmp_14_0 : i0.ɵɵpureFunction0(182, _c0));\n          i0.ɵɵadvance(3);\n          i0.ɵɵattribute(\"aria-expanded\", i0.ɵɵpipeBind1(60, 95, ctx.priceOpen$) ? \"true\" : \"false\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(66, 97, ctx.priceOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(68, 99, ctx.priceOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"expanded\", i0.ɵɵpipeBind1(70, 101, ctx.priceOpen$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind1(73, 103, ctx.priceMin$));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind1(77, 105, ctx.priceMax$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵattribute(\"aria-expanded\", i0.ɵɵpipeBind1(80, 107, ctx.yearOpen$) ? \"true\" : \"false\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(86, 109, ctx.yearOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(88, 111, ctx.yearOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"expanded\", i0.ɵɵpipeBind1(90, 113, ctx.yearOpen$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind1(93, 115, ctx.yearMin$));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.yearOptionsDesc);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind1(100, 117, ctx.yearMax$));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.yearOptionsDesc);\n          i0.ɵɵadvance(2);\n          i0.ɵɵattribute(\"aria-expanded\", i0.ɵɵpipeBind1(106, 119, ctx.mileageOpen$) ? \"true\" : \"false\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(112, 121, ctx.mileageOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(114, 123, ctx.mileageOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"expanded\", i0.ɵɵpipeBind1(116, 125, ctx.mileageOpen$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind1(119, 127, ctx.mileageMin$));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind1(123, 129, ctx.mileageMax$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵattribute(\"aria-expanded\", i0.ɵɵpipeBind1(126, 131, ctx.transOpen$) ? \"true\" : \"false\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"(\", (tmp_36_0 = (tmp_36_0 = i0.ɵɵpipeBind1(132, 133, ctx.transmissions$)) == null ? null : tmp_36_0.length) !== null && tmp_36_0 !== undefined ? tmp_36_0 : 0, \")\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(135, 135, ctx.transOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(137, 137, ctx.transOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"expanded\", i0.ɵɵpipeBind1(139, 139, ctx.transOpen$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", (tmp_40_0 = i0.ɵɵpipeBind1(142, 141, ctx.transmissions$)) !== null && tmp_40_0 !== undefined ? tmp_40_0 : i0.ɵɵpureFunction0(183, _c0));\n          i0.ɵɵadvance(3);\n          i0.ɵɵattribute(\"aria-expanded\", i0.ɵɵpipeBind1(145, 143, ctx.bodyOpen$) ? \"true\" : \"false\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"(\", (tmp_42_0 = (tmp_42_0 = i0.ɵɵpipeBind1(151, 145, ctx.bodyTypes$)) == null ? null : tmp_42_0.length) !== null && tmp_42_0 !== undefined ? tmp_42_0 : 0, \")\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(154, 147, ctx.bodyOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(156, 149, ctx.bodyOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"expanded\", i0.ɵɵpipeBind1(158, 151, ctx.bodyOpen$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", (tmp_46_0 = i0.ɵɵpipeBind1(161, 153, ctx.bodyTypes$)) !== null && tmp_46_0 !== undefined ? tmp_46_0 : i0.ɵɵpureFunction0(184, _c0));\n          i0.ɵɵadvance(3);\n          i0.ɵɵattribute(\"aria-expanded\", i0.ɵɵpipeBind1(164, 155, ctx.fuelOpen$) ? \"true\" : \"false\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"(\", (tmp_48_0 = (tmp_48_0 = i0.ɵɵpipeBind1(170, 157, ctx.fuelTypes$)) == null ? null : tmp_48_0.length) !== null && tmp_48_0 !== undefined ? tmp_48_0 : 0, \")\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(173, 159, ctx.fuelOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(175, 161, ctx.fuelOpen$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"expanded\", i0.ɵɵpipeBind1(177, 163, ctx.fuelOpen$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", (tmp_52_0 = i0.ɵɵpipeBind1(180, 165, ctx.fuelTypes$)) !== null && tmp_52_0 !== undefined ? tmp_52_0 : i0.ɵɵpureFunction0(185, _c0));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" We have found \", (tmp_53_0 = i0.ɵɵpipeBind1(184, 167, ctx.totalCount$)) !== null && tmp_53_0 !== undefined ? tmp_53_0 : 0, \" vehicles \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", (tmp_54_0 = i0.ɵɵpipeBind1(187, 169, ctx.listings$)) !== null && tmp_54_0 !== undefined ? tmp_54_0 : i0.ɵɵpureFunction0(186, _c0));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(189, 171, ctx.loading$) && ((tmp_55_0 = i0.ɵɵpipeBind1(190, 173, ctx.totalCount$)) !== null && tmp_55_0 !== undefined ? tmp_55_0 : 0) === 0);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_56_0 = i0.ɵɵpipeBind1(192, 175, ctx.totalPages$)) !== null && tmp_56_0 !== undefined ? tmp_56_0 : 1) > 1);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(194, 177, ctx.loading$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", (tmp_58_0 = i0.ɵɵpipeBind1(196, 179, ctx.activeFilters$)) == null ? null : tmp_58_0.length);\n        }\n      },\n      dependencies: [CommonModule, i1.NgForOf, i1.NgIf, i1.AsyncPipe, i1.DecimalPipe, FormsModule, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgModel, MatFormFieldModule, MatSelectModule, MatIconModule, i3.MatIcon, MatCardModule, MatProgressBarModule, i4.MatProgressBar, RouterModule, i5.RouterLink],\n      styles: [\".find-car-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:16px}.header-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:16px}.results-title[_ngcontent-%COMP%]{margin:0;font-weight:600}.results-count[_ngcontent-%COMP%]{color:#666;margin:4px 0 0}.sort-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.main-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr;gap:16px}.filter-sidebar[_ngcontent-%COMP%]{position:sticky;top:12px;align-self:start}.options-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:8px}.filter-option[_ngcontent-%COMP%]{padding:6px 8px;border-radius:6px}.option-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.check-icon[_ngcontent-%COMP%]{display:none}.car-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}@media (max-width: 992px){.car-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.main-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 640px){.car-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.car-card[_ngcontent-%COMP%]{cursor:pointer}.thumb-wrap[_ngcontent-%COMP%]{position:relative}.thumb[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover;border-radius:8px;border:1px solid #e0e0e0}.thumb.placeholder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#f3f4f6;border:1px dashed #ddd;height:180px;border-radius:8px}.price-badge[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:10px;background:#111827;color:#fff;padding:6px 10px;border-radius:999px;font-weight:600;font-size:13px}.specs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:6px;color:#444}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;margin-top:16px}.page-btn[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;background:#fff;border-radius:6px}.page-btn[disabled][_ngcontent-%COMP%]{opacity:.5}.active-filters[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin:12px 0}.chip[_ngcontent-%COMP%]{background:#eef2ff;color:#3730a3;padding:4px 10px;border-radius:999px;font-size:12px;border:1px solid #c7d2fe}.clear-filters[_ngcontent-%COMP%]{background:transparent;border:none;color:#2563eb;cursor:pointer}.find-car-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.mobile-header-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding:0 8px}.mobile-filter-btn[_ngcontent-%COMP%], .mobile-sort-btn[_ngcontent-%COMP%]{flex:1 1 50%;padding:12px 0;font-size:16px;font-weight:600;border:none;background:#f8f9fa;color:#007bff;border-radius:8px;margin:0 4px;box-shadow:0 1px 3px #0000000a}.mobile-filter-btn[_ngcontent-%COMP%]{text-align:left}.mobile-sort-btn[_ngcontent-%COMP%]{text-align:right}.header-section[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header-buttons[_ngcontent-%COMP%]{display:none}.header-section[_ngcontent-%COMP%]{display:flex}}.header-section[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;margin-bottom:30px;padding:20px;background-color:#f8f9fa;border-radius:8px;box-shadow:0 2px 4px #0000001a}.results-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:28px;font-weight:700;color:#2c3e50}.results-count[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:14px}.sort-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.sort-label[_ngcontent-%COMP%]{font-weight:600;color:#495057}.sort-select[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #dee2e6;border-radius:6px;font-size:14px;background-color:#fff;cursor:pointer;transition:all .3s ease}.sort-select[_ngcontent-%COMP%]:hover{border-color:#007bff}.sort-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.main-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:300px 1fr;gap:30px}.filter-sidebar[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;height:fit-content;position:sticky;top:20px}@media (max-width: 767px){.filter-sidebar[_ngcontent-%COMP%]{display:none!important}}.car-results[_ngcontent-%COMP%]{min-height:600px}.car-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:24px;margin-bottom:40px}.no-results[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:400px;text-align:center}.no-results-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;color:#6c757d;margin-bottom:16px}.no-results-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#adb5bd;font-size:16px}.car-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;cursor:pointer}.thumb-wrap[_ngcontent-%COMP%]{position:relative;width:100%;aspect-ratio:16/9}.thumb[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.thumb.placeholder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#f2f2f2;color:#777;width:100%;height:100%}.price-badge[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px;background:#000000b3;color:#fff;padding:4px 8px;border-radius:12px;font-weight:600}.specs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}.full[_ngcontent-%COMP%]{width:100%}.muted[_ngcontent-%COMP%]{color:#0009}.filter-sidebar[_ngcontent-%COMP%]   .filter-sidebar[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden}.filter-header[_ngcontent-%COMP%]{padding:20px;border-bottom:2px solid #e9ecef;background:linear-gradient(135deg,#007bff,#0056b3);color:#fff}.filter-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 8px;font-size:18px;font-weight:700}.filter-icon[_ngcontent-%COMP%]{color:#ffffffe6}.filter-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.clear-all[_ngcontent-%COMP%]{color:#fff;opacity:.9;text-decoration:none;font-weight:600}.filter-content[_ngcontent-%COMP%]{max-height:calc(100vh - 200px);overflow-y:auto}.filter-section[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef}.filter-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;cursor:pointer;background:#f8f9fa;transition:all .3s ease;border-bottom:1px solid #e9ecef}.section-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:600;color:#2c3e50}.section-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .3s ease}.section-content.expanded[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.options-container[_ngcontent-%COMP%]{padding:16px 20px}.filter-option[_ngcontent-%COMP%]{margin-bottom:12px}.option-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer;font-size:14px;line-height:1.4;transition:all .3s ease;padding:4px 0}.filter-checkbox[_ngcontent-%COMP%]{display:none}.custom-checkbox[_ngcontent-%COMP%]{position:relative;width:18px;height:18px;border:2px solid #dee2e6;border-radius:3px;background:#fff;display:flex;align-items:center;justify-content:center;transition:all .3s ease;flex-shrink:0}.filter-checkbox[_ngcontent-%COMP%]:checked + .custom-checkbox[_ngcontent-%COMP%]{background:#007bff;border-color:#007bff}.filter-checkbox[_ngcontent-%COMP%]:checked + .custom-checkbox[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.check-icon[_ngcontent-%COMP%]{color:#fff;opacity:0;transform:scale(0);transition:all .3s ease}.option-text[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:space-between;gap:8px}.topbar[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;justify-content:flex-end;padding:8px 0 20px}.sort-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.results-header[_ngcontent-%COMP%]{font-weight:700;margin:6px 0 18px}.car-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}.car-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #e5e7eb;border-radius:8px;overflow:hidden;background:#fff;box-shadow:0 1px 2px #0000000a}.card-media[_ngcontent-%COMP%]{position:relative;aspect-ratio:16/9;display:block;cursor:pointer}.card-media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.media-placeholder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#f3f4f6;color:#9ca3af;width:100%;height:100%}.price-tag[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px;background:#000000bf;color:#fff;padding:4px 10px;border-radius:999px;font-weight:700;font-size:13px}.card-body[_ngcontent-%COMP%]{padding:12px 14px 14px;display:flex;flex-direction:column;gap:8px}.title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#111827}.subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.chip[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;border:1px solid #e5e7eb;border-radius:999px;padding:2px 8px;font-size:12px}.fuel-pill[_ngcontent-%COMP%]{align-self:flex-start;background:#f0f9ff;color:#0369a1;border:1px solid #bae6fd;border-radius:6px;padding:2px 8px;font-size:12px}.price-row[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;margin-top:6px}.price[_ngcontent-%COMP%]{font-size:18px;font-weight:800;color:#111827}.monthly[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:8px}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:8px 12px;border-radius:6px;font-weight:600;font-size:14px;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:#dc2626;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#111827;border:1px solid #e5e7eb}.chevron[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transition:opacity .2s ease}.range-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px}.range-input[_ngcontent-%COMP%]{width:100%;padding:8px 10px;border:1px solid #e5e7eb;border-radius:6px;font-size:14px}.range-select[_ngcontent-%COMP%]{width:100%;padding:8px 10px;border:1px solid #e5e7eb;border-radius:6px;font-size:14px;background:#fff}.range-sep[_ngcontent-%COMP%]{color:#6b7280}\"],\n      changeDetection: 0\n    });\n  }\n  return SearchComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}