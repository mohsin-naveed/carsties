{"ast":null,"code":"import { inject, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRoute } from '@angular/router';\nimport { RouterModule } from '@angular/router';\nimport { ListingsApiService } from './listings-api.service';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@angular/material/icon\";\nimport * as i4 from \"@angular/material/progress-bar\";\nimport * as i5 from \"@angular/router\";\nconst _c0 = () => [\"/search\"];\nfunction ListingDetailComponent_mat_progress_bar_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 4);\n  }\n}\nfunction ListingDetailComponent_div_7_img_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 11);\n  }\n  if (rf & 2) {\n    const img_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"src\", img_r1.url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ListingDetailComponent_div_7_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"directions_car\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ListingDetailComponent_div_7_p_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const car_r2 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(car_r2.description);\n  }\n}\nfunction ListingDetailComponent_div_7_div_41_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fid_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"#\", fid_r3, \"\");\n  }\n}\nfunction ListingDetailComponent_div_7_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"h4\");\n    i0.ɵɵtext(2, \"Features\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ListingDetailComponent_div_7_div_41_span_3_Template, 2, 1, \"span\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const car_r2 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", car_r2.featureIds);\n  }\n}\nfunction ListingDetailComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-card\")(2, \"mat-card-header\")(3, \"mat-card-title\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-card-subtitle\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 5);\n    i0.ɵɵtemplate(8, ListingDetailComponent_div_7_img_8_Template, 1, 1, \"img\", 6)(9, ListingDetailComponent_div_7_div_9_Template, 3, 0, \"div\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"mat-card-content\")(11, \"div\", 8)(12, \"div\")(13, \"strong\");\n    i0.ɵɵtext(14, \"Variant:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\")(17, \"strong\");\n    i0.ɵɵtext(18, \"Body:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\")(21, \"strong\");\n    i0.ɵɵtext(22, \"Transmission:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\")(25, \"strong\");\n    i0.ɵɵtext(26, \"Fuel:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\")(29, \"strong\");\n    i0.ɵɵtext(30, \"Mileage:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\")(34, \"strong\");\n    i0.ɵɵtext(35, \"Color:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(37, \"div\", 9);\n    i0.ɵɵtext(38);\n    i0.ɵɵpipe(39, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(40, ListingDetailComponent_div_7_p_40_Template, 2, 1, \"p\", 3)(41, ListingDetailComponent_div_7_div_41_Template, 4, 1, \"div\", 10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const car_r2 = ctx.ngIf;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(car_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\" \", car_r2.makeName || car_r2.makeId, \" \\u00B7 \", car_r2.modelName || car_r2.modelId, \" \\u00B7 \", car_r2.year, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", car_r2.images);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !(car_r2.images == null ? null : car_r2.images.length));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", car_r2.variantName || car_r2.variantId, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", car_r2.bodyTypeName || car_r2.bodyTypeId, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", car_r2.transmissionName || car_r2.transmissionId || \"-\", \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", car_r2.fuelTypeName || car_r2.fuelTypeId || \"-\", \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(32, 15, car_r2.mileage, \"1.0-0\"), \" km\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", car_r2.color || \"-\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"R \", i0.ɵɵpipeBind2(39, 18, car_r2.price, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", car_r2.description);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", car_r2.featureIds == null ? null : car_r2.featureIds.length);\n  }\n}\nexport let ListingDetailComponent = /*#__PURE__*/(() => {\n  class ListingDetailComponent {\n    route = inject(ActivatedRoute);\n    api = inject(ListingsApiService);\n    listing = signal(null);\n    loading = signal(true);\n    ngOnInit() {\n      const id = Number(this.route.snapshot.paramMap.get('id'));\n      if (!id) {\n        this.loading.set(false);\n        return;\n      }\n      this.api.getListing(id).subscribe({\n        next: x => {\n          this.listing.set(x);\n          this.loading.set(false);\n        },\n        error: _ => {\n          this.loading.set(false);\n        }\n      });\n    }\n    static ɵfac = function ListingDetailComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ListingDetailComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ListingDetailComponent,\n      selectors: [[\"app-listing-detail\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 8,\n      vars: 5,\n      consts: [[1, \"header\"], [\"mat-button\", \"\", 1, \"back\", 3, \"routerLink\", \"queryParamsHandling\"], [\"mode\", \"indeterminate\", 4, \"ngIf\"], [4, \"ngIf\"], [\"mode\", \"indeterminate\"], [1, \"images\"], [\"alt\", \"image\", 3, \"src\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"placeholder\", 4, \"ngIf\"], [1, \"specs\"], [1, \"price\"], [\"class\", \"features\", 4, \"ngIf\"], [\"alt\", \"image\", 3, \"src\"], [1, \"placeholder\"], [1, \"features\"], [\"class\", \"chip\", 4, \"ngFor\", \"ngForOf\"], [1, \"chip\"]],\n      template: function ListingDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"a\", 1);\n          i0.ɵɵtext(3, \"\\u2190 Back to Search\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"h2\");\n          i0.ɵɵtext(5, \"Car Details\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(6, ListingDetailComponent_mat_progress_bar_6_Template, 1, 0, \"mat-progress-bar\", 2)(7, ListingDetailComponent_div_7_Template, 42, 21, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0))(\"queryParamsHandling\", \"preserve\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading());\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading() && ctx.listing());\n        }\n      },\n      dependencies: [CommonModule, i1.NgForOf, i1.NgIf, i1.DecimalPipe, MatCardModule, i2.MatCard, i2.MatCardContent, i2.MatCardHeader, i2.MatCardSubtitle, i2.MatCardTitle, MatIconModule, i3.MatIcon, MatProgressBarModule, i4.MatProgressBar, RouterModule, i5.RouterLink],\n      styles: [\".header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back[_ngcontent-%COMP%]{text-decoration:none}.images[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:8px;margin:8px 0}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.placeholder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#f2f2f2;color:#777;height:180px}.specs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:8px;margin-top:8px}.price[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;margin-top:12px}.features[_ngcontent-%COMP%]{margin-top:12px}.features[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:12px;background:#eee;margin-right:6px;margin-bottom:6px}\"]\n    });\n  }\n  return ListingDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}